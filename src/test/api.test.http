### API RESTful de Gesti贸n de Productos - Archivo de Tests
### Archivo compatible con extensi贸n "REST Client" de VS Code

# ===== VARIABLES =====
@baseUrl = http://localhost:3000
@apiKey = tu-api-key-aqui
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

---

##  CREAR PRODUCTO (SIN AUTENTICACIN)
POST {{baseUrl}}/api/v1/productos
Content-Type: application/json

{
  "producto": "Laptop Dell XPS 15",
  "stockAmount": 5,
  "fechaIngreso": "2025-12-14"
}

### CREAR PRODUCTO - SIN FECHA (por defecto usa hoy)
POST {{baseUrl}}/api/v1/productos
Content-Type: application/json

{
  "producto": "Mouse Logitech",
  "stockAmount": 25
}

### CREAR PRODUCTO - VALIDACIN FALLIDA (stock negativo)
POST {{baseUrl}}/api/v1/productos
Content-Type: application/json

{
  "producto": "Teclado",
  "stockAmount": -5
}

### CREAR PRODUCTO - VALIDACIN FALLIDA (producto vac铆o)
POST {{baseUrl}}/api/v1/productos
Content-Type: application/json

{
  "producto": "",
  "stockAmount": 10
}

---

##  LISTAR TODOS LOS PRODUCTOS (SIN AUTENTICACIN)
GET {{baseUrl}}/api/v1/productos

---

##  OBTENER PRODUCTO POR ID (SIN AUTENTICACIN)
GET {{baseUrl}}/api/v1/productos/1

### OBTENER PRODUCTO POR ID - NO EXISTE
GET {{baseUrl}}/api/v1/productos/999

---

##  ACTUALIZAR PRODUCTO CON X-API-KEY
PUT {{baseUrl}}/api/v1/productos/1
Content-Type: application/json
x-api-key: {{apiKey}}

{
  "stockAmount": 15
}

### ACTUALIZAR PRODUCTO CON X-API-KEY - INVLIDA
PUT {{baseUrl}}/api/v1/productos/1
Content-Type: application/json
x-api-key: api-key-incorrecta

{
  "stockAmount": 20
}

### ACTUALIZAR PRODUCTO CON JWT TOKEN
PUT {{baseUrl}}/api/v1/productos/1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "producto": "Laptop Dell XPS 15 - Editada"
}

### ACTUALIZAR PRODUCTO SIN AUTENTICACIN (ERROR 401)
PUT {{baseUrl}}/api/v1/productos/1
Content-Type: application/json

{
  "stockAmount": 30
}

### ACTUALIZAR SOLO NOMBRE
PUT {{baseUrl}}/api/v1/productos/1
Content-Type: application/json
x-api-key: {{apiKey}}

{
  "producto": "Laptop Dell XPS 15 Pro"
}

### ACTUALIZAR FECHA
PUT {{baseUrl}}/api/v1/productos/1
Content-Type: application/json
x-api-key: {{apiKey}}

{
  "fechaIngreso": "2025-01-01"
}

### ACTUALIZAR CON VALIDACIN FALLIDA (fecha incorrecta)
PUT {{baseUrl}}/api/v1/productos/1
Content-Type: application/json
x-api-key: {{apiKey}}

{
  "fechaIngreso": "14/12/2025"
}

---

##  ELIMINAR PRODUCTO CON X-API-KEY
DELETE {{baseUrl}}/api/v1/productos/1
x-api-key: {{apiKey}}

### ELIMINAR PRODUCTO CON JWT TOKEN
DELETE {{baseUrl}}/api/v1/productos/2
Authorization: Bearer {{token}}

### ELIMINAR PRODUCTO SIN AUTENTICACIN (ERROR 401)
DELETE {{baseUrl}}/api/v1/productos/3

### ELIMINAR PRODUCTO QUE NO EXISTE
DELETE {{baseUrl}}/api/v1/productos/999
x-api-key: {{apiKey}}

---

## 癸 INSTRUCCIONES IMPORTANTES:

# Variables REST Client:
# 1. Actualiza @baseUrl seg煤n tu configuraci贸n
# 2. Actualiza @apiKey con tu valor de variable de entorno
# 3. Actualiza @token con un JWT v谩lido

# C贸mo usar:
# - Instala extensi贸n "REST Client" en VS Code
# - Haz clic en "Send Request" sobre cada request
# - O presiona Ctrl+Alt+R para enviar

Content-Type: application/json

{
    "category":"Fantasia",
    "name": "Elije tu propia Aventura"
}


###  Creacion de Libro
PATCH   {{Host}}:{{Port}}/{{EndpointTempalte}}/update
Content-Type: application/json

{
    
    "category":"Guerra",
    "name": "Decile que no a tu sra.",
    "id": 12

}

